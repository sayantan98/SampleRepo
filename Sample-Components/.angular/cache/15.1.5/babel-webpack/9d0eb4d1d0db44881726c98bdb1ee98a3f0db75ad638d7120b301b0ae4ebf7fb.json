{"ast":null,"code":"import { AddEditComponent } from '../add-edit/add-edit.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared.service\";\nimport * as i2 from \"mdb-angular-ui-kit/modal\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/common\";\nfunction ShowDelComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ShowDelComponent_tr_16_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const department_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editClick(department_r1));\n    });\n    i0.ɵɵelement(7, \"i\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\u00A0\\u00A0\\u00A0 \");\n    i0.ɵɵelementStart(9, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function ShowDelComponent_tr_16_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const department_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteClick(department_r1.departmentId));\n    });\n    i0.ɵɵelement(10, \"i\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const department_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(department_r1.departmentId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(department_r1.departmentName);\n  }\n}\nexport class ShowDelComponent {\n  constructor(apiservice, modalService, toastr, loader) {\n    this.apiservice = apiservice;\n    this.modalService = modalService;\n    this.toastr = toastr;\n    this.loader = loader;\n    this.modalRef = null;\n    this.deplist = [];\n    this.Modaltitle = \"\";\n  }\n  ngOnInit() {\n    this.refreshDepList();\n  }\n  refreshDepList() {\n    this.loader.show();\n    this.apiservice.GetDepartmentList().subscribe(dep => {\n      this.deplist = dep;\n      this.loader.hide();\n    }, error => {\n      this.toastr.error(error.statusText, \"Error!\");\n      this.loader.hide();\n    });\n  }\n  addClick() {\n    this.dep = {\n      departmentId: 0,\n      departmentName: \"\"\n    };\n    this.Modaltitle = \"Add Department\";\n    this.modalRef = this.modalService.open(AddEditComponent, {\n      data: {\n        title: this.Modaltitle,\n        dep: this.dep\n      }\n    });\n    this.modalRef.onClose.subscribe(() => {\n      this.refreshDepList();\n    });\n  }\n  editClick(item) {\n    this.dep = item;\n    this.Modaltitle = \"Update Department\";\n    this.modalRef = this.modalService.open(AddEditComponent, {\n      data: {\n        title: this.Modaltitle,\n        dep: this.dep\n      }\n    });\n    this.modalRef.onClose.subscribe(() => {\n      this.refreshDepList();\n    });\n  }\n  deleteClick(item) {\n    this.loader.show();\n    this.apiservice.DeleteDepartment(item).subscribe(res => {\n      this.toastr.success(res, \"Deleted Successfully!\");\n      this.refreshDepList();\n      this.loader.hide();\n    }, error => {\n      this.toastr.error(error.statusText, \"Error!\");\n      this.loader.hide();\n    });\n  }\n}\nShowDelComponent.ɵfac = function ShowDelComponent_Factory(t) {\n  return new (t || ShowDelComponent)(i0.ɵɵdirectiveInject(i1.SharedService), i0.ɵɵdirectiveInject(i2.MdbModalService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService));\n};\nShowDelComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ShowDelComponent,\n  selectors: [[\"app-show-del\"]],\n  decls: 20,\n  vars: 1,\n  consts: [[1, \"container\", \"mt-3\"], [\"type\", \"button\", \"title\", \"add\", \"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", \"data-backdrop\", \"static\", \"data-keyboard\", \"false\", 1, \"btn\", \"btn-success\", \"alignright\", 3, \"click\"], [\"aria-hidden\", \"true\", 1, \"fa\", \"fa-plus\"], [1, \"table\", \"table-bordered\", \"table-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"bdColor\", \"rgba(51, 51, 51, 0.8)\", \"size\", \"default\", \"type\", \"ball-circus\"], [2, \"color\", \"white\"], [\"type\", \"button\", \"title\", \"edit\", \"data-toggle\", \"modal\", \"data-target\", \"#exampleModal\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fa-solid\", \"fa-pen-to-square\"], [\"type\", \"button\", \"title\", \"delete\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"fa-solid\", \"fa-trash\"]],\n  template: function ShowDelComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ShowDelComponent_Template_button_click_1_listener() {\n        return ctx.addClick();\n      });\n      i0.ɵɵelement(2, \"i\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(3, \"br\")(4, \"br\")(5, \"br\");\n      i0.ɵɵelementStart(6, \"table\", 3)(7, \"thead\")(8, \"tr\")(9, \"th\", 4);\n      i0.ɵɵtext(10, \"Department ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 4);\n      i0.ɵɵtext(12, \"Department Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 4);\n      i0.ɵɵtext(14, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(15, \"tbody\");\n      i0.ɵɵtemplate(16, ShowDelComponent_tr_16_Template, 11, 2, \"tr\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"ngx-spinner\", 6)(18, \"p\", 7);\n      i0.ɵɵtext(19, \"Please Wait. \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngForOf\", ctx.deplist);\n    }\n  },\n  dependencies: [i5.NgForOf, i4.NgxSpinnerComponent],\n  styles: [\".alignright[_ngcontent-%COMP%]{\\r\\n    float: right;\\r\\n    margin-right: 2em;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZGVwYXJ0bWVudC9zaG93LWRlbC9zaG93LWRlbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksWUFBWTtJQUNaLGlCQUFpQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5hbGlnbnJpZ2h0e1xyXG4gICAgZmxvYXQ6IHJpZ2h0O1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAyZW07XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["AddEditComponent","i0","ShowDelComponent","constructor","apiservice","modalService","toastr","loader","ngOnInit","refreshDepList","show","GetDepartmentList","subscribe","dep","deplist","hide","error","statusText","addClick","departmentId","departmentName","Modaltitle","modalRef","open","data","title","onClose","editClick","item","deleteClick","DeleteDepartment","res","success","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Upskill\\PracticeProjects\\Sample-Components\\src\\app\\department\\show-del\\show-del.component.ts","D:\\Upskill\\PracticeProjects\\Sample-Components\\src\\app\\department\\show-del\\show-del.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { SharedService } from 'src/app/shared.service';\nimport { MdbModalService, MdbModalRef  } from 'mdb-angular-ui-kit/modal';\nimport { AddEditComponent } from '../add-edit/add-edit.component';\nimport { ToastrService } from 'ngx-toastr';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Component({\n  selector: 'app-show-del',\n  templateUrl: './show-del.component.html',\n  styleUrls: ['./show-del.component.css']\n})\nexport class ShowDelComponent implements OnInit {\n  modalRef: MdbModalRef<AddEditComponent> | null = null;\n  constructor(private apiservice: SharedService, private modalService: MdbModalService, private toastr: ToastrService, private loader: NgxSpinnerService) { \n  }\n  \n  deplist:any = [];\n  dep:any;\n  Modaltitle:string=\"\";\n  ngOnInit(): void {\n    this.refreshDepList();\n  }\n  refreshDepList(){\n    this.loader.show();\n    this.apiservice.GetDepartmentList().subscribe(\n      dep =>{\n        this.deplist = dep;\n        this.loader.hide();\n      },\n      error => {\n        this.toastr.error(error.statusText, \"Error!\");\n        this.loader.hide();\n\n      }\n    );\n  }\n  addClick(){\n    this.dep = {\n      departmentId:0,\n      departmentName:\"\"\n    };\n    this.Modaltitle = \"Add Department\";\n    this.modalRef = this.modalService.open(AddEditComponent, {\n      data: {\n        title: this.Modaltitle,\n        dep: this.dep\n      }\n    });\n    this.modalRef.onClose.subscribe(() => {\n      this.refreshDepList();\n    });\n  }\n  editClick(item: any){\n    this.dep = item;\n    this.Modaltitle = \"Update Department\";\n    this.modalRef = this.modalService.open(AddEditComponent, {\n      data: {\n        title: this.Modaltitle,\n        dep: this.dep\n      }\n    });\n    this.modalRef.onClose.subscribe(() =>{\n      this.refreshDepList();\n    })\n  }\n  deleteClick(item: any){\n    this.loader.show();\n    this.apiservice.DeleteDepartment(item).subscribe(res => {\n      this.toastr.success(res, \"Deleted Successfully!\");\n      this.refreshDepList();\n      this.loader.hide();\n    },\n    error => {\n      this.toastr.error(error.statusText, \"Error!\");\n      this.loader.hide();\n    }\n    );\n  }\n}\n","<!-- Button trigger modal -->\n<div class=\"container mt-3\">\n    <button type=\"button\" class=\"btn btn-success alignright\" title=\"add\" data-toggle=\"modal\" data-target=\"#exampleModal\" data-backdrop=\"static\" data-keyboard=\"false\" (click)=\"addClick()\">\n        <i class=\"fa fa-plus\" aria-hidden=\"true\"></i>\n      </button>\n</div>\n  <br /><br /><br />\n<table class=\"table table-bordered table-dark\">\n    <thead>\n        <tr>\n            <th scope=\"col\">Department ID</th>\n            <th scope=\"col\">Department Name</th>\n            <th scope=\"col\">Action</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let department of deplist\">\n            <td>{{department.departmentId}}</td>\n            <td>{{department.departmentName}}</td>\n            <td>\n                <button type=\"button\" class=\"btn btn-success\" title=\"edit\" data-toggle=\"modal\" data-target=\"#exampleModal\" (click)=\"editClick(department)\">\n                    <i class=\"fa-solid fa-pen-to-square\"></i>\n                </button>&nbsp;&nbsp;&nbsp;\n                <button type=\"button\" class=\"btn btn-danger\" title=\"delete\" (click)=\"deleteClick(department.departmentId)\">\n                    <i class=\"fa-solid fa-trash\"></i>\n                </button>\n            </td>\n        </tr>\n    </tbody>\n</table>\n<ngx-spinner bdColor=\"rgba(51, 51, 51, 0.8)\" size=\"default\" type=\"ball-circus\">  \n    <p style=\"color: white\">Please Wait. </p>  \n</ngx-spinner> \n<!-- Modal -->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}